# Load Tests Directory Index

This directory contains comprehensive load testing suite for PostgreSQL Rule Engine.

## ğŸ“ Files Overview

### ğŸ“Š Results & Documentation
- **[QUICK_RESULTS.md](QUICK_RESULTS.md)** - Quick performance summary (start here!)
- **[BENCHMARK_RESULTS.md](BENCHMARK_RESULTS.md)** - Detailed benchmark analysis
- **[README.md](README.md)** - Complete testing guide

### ğŸ§ª Test Scripts (pgbench)
- **[01_simple_rule.sql](01_simple_rule.sql)** - Simple rule (1 condition) â†’ 48,589 TPS
- **[02_complex_rule.sql](02_complex_rule.sql)** - Complex rules (4 rules) â†’ 1,802 TPS
- **[03_repository_save.sql](03_repository_save.sql)** - Rule repository saves
- **[04_repository_execute.sql](04_repository_execute.sql)** - Execute saved rules (disabled)
- **[05_webhook_call.sql](05_webhook_call.sql)** - Webhook HTTP callouts
- **[06_datasource_fetch.sql](06_datasource_fetch.sql)** - External API fetching
- **[07_stress_100_rules.sql](07_stress_100_rules.sql)** - 100 rules stress test â†’ 62 TPS â­ NEW!

### ğŸ› ï¸ Utilities
- **[setup.sql](setup.sql)** - Setup test environment
- **[cleanup.sql](cleanup.sql)** - Clean up test data
- **[run_loadtest.sh](run_loadtest.sh)** - Main test runner (executable)

### ğŸ“‚ Output
- **results/** - Test results (auto-generated)

## ğŸš€ Quick Start

```bash
# Setup and run all tests
./run_loadtest.sh

# Run specific test
pgbench -h localhost -U postgres -d postgres \
    -c 10 -j 4 -T 30 \
    -f 01_simple_rule.sql

# Heavy stress test (100 rules)
pgbench -h localhost -U postgres -d postgres \
    -c 10 -j 4 -T 30 \
    -f 07_stress_100_rules.sql
```

## ğŸ“ˆ Performance Summary

| Test | TPS | Latency | Status |
|------|-----|---------|--------|
| Simple (1 rule) | 48,589 | 0.1ms | â­â­â­â­â­ |
| Complex (4 rules) | 1,802 | 5.5ms | â­â­â­â­â­ |
| Stress (100 rules) | 62 | 162ms | â­â­â­â­ |

**Conclusion:** Production-ready! ğŸ‰

---

For detailed information, see [README.md](README.md)
